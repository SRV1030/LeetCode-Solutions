{"id":652963603,"lang":"cpp","time":"1 week, 2 days","timestamp":1646364134,"status_display":"Accepted","runtime":"28 ms","url":"/submissions/detail/652963603/","is_pending":"Not Pending","title":"Design Front Middle Back Queue","memory":"20.8 MB","code":"class FrontMiddleBackQueue {\npublic:\n    deque<int>dq1,dq2;\n    FrontMiddleBackQueue() {\n        \n    }\n    \n    void pushFront(int val) {\n        dq1.push_front(val);\n        if(dq1.size()-dq2.size()>1){\n            dq2.push_front(dq1.back());\n            dq1.pop_back();\n        }\n    }\n    \n    void pushMiddle(int val) {\n        if(dq1.size()==dq2.size())dq1.push_back(val);\n        else{\n            dq2.push_front(dq1.back());\n            dq1.pop_back();\n            dq1.push_back(val);\n        }\n    }\n    \n    void pushBack(int val) {\n        dq2.push_back(val);\n        while(dq2.size()>dq1.size()){\n            dq1.push_back(dq2.front());\n            dq2.pop_front();\n        }\n    }\n    \n    int popFront() {\n        if(dq1.empty()) return -1;\n        int ans=dq1.front();\n        dq1.pop_front();\n        while(dq2.size()>dq1.size())\n        {\n            dq1.push_back(dq2.front());\n            dq2.pop_front();\n        }\n        return ans;\n    }\n    \n    int popMiddle() {\n        //one more element in dq1\n        //middle element is in back of dq1\n        if(dq1.empty()) return -1;\n        int ans=dq1.back();\n        dq1.pop_back();\n        while(dq2.size()>dq1.size()) \n        {\n            dq1.push_back(dq2.front());\n            dq2.pop_front();\n        }\n        return ans;\n    }\n    \n    int popBack() {\n        if(dq1.empty()) return -1;\n        if(dq2.empty()) //only one element i.e. in dq1\n        {\n            int ans=dq1.back();\n            dq1.pop_back();\n            return ans;\n        }\n        int ans=dq2.back();\n        dq2.pop_back();\n        while(dq1.size()-dq2.size()>1) //more than one element in dq1\n        {\n            dq2.push_front(dq1.back());\n            dq1.pop_back();\n        }\n        return ans;\n    }\n};\n\n/**\n * Your FrontMiddleBackQueue object will be instantiated and called as such:\n * FrontMiddleBackQueue* obj = new FrontMiddleBackQueue();\n * obj->pushFront(val);\n * obj->pushMiddle(val);\n * obj->pushBack(val);\n * int param_4 = obj->popFront();\n * int param_5 = obj->popMiddle();\n * int param_6 = obj->popBack();\n */","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"design-front-middle-back-queue"}