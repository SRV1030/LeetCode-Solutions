{"id":654140052,"lang":"cpp","time":"1 week, 1 day","timestamp":1646529978,"status_display":"Accepted","runtime":"75 ms","url":"/submissions/detail/654140052/","is_pending":"Not Pending","title":"Count All Valid Pickup and Delivery Options","memory":"19.7 MB","code":"class Solution {\nprivate:\n    int MOD = 1e9 + 7;\n    vector<vector<int>> memo;\n    \n    long totalWays(int unpicked, int undelivered) {\n        if (unpicked == 0 && undelivered == 0) {\n            // We have completed all orders.\n            return 1;\n        }\n        \n        if (unpicked < 0 || undelivered < 0 || undelivered < unpicked) {\n            // We can't pick or deliver more than N items\n            // Number of deliveries can't exceed number of pickups \n            // as we can only deliver after a pickup.\n            return 0;\n        }\n        \n        if (memo[unpicked][undelivered]) {\n            // Return cached value, if already present. \n            return memo[unpicked][undelivered];\n        }\n        \n        long ans = 0;\n        \n        // Count all choices of picking up an order.\n        ans += unpicked * totalWays(unpicked - 1, undelivered);\n        // Handle integer overflow.\n        ans %= MOD;\n        \n        // Count all choices of delivering a picked order.\n        ans += (undelivered - unpicked) * totalWays(unpicked, undelivered - 1);\n        // Handle integer overflow.\n        ans %= MOD;\n        \n        return memo[unpicked][undelivered] = ans;\n    }\n    \npublic:\n    int countOrders(int n) {\n        memo = vector<vector<int>> (n + 1, vector<int>(n + 1, 0));\n        return totalWays(n, n);\n    }\n};","compare_result":"111111111111111111111111111111111111","title_slug":"count-all-valid-pickup-and-delivery-options"}